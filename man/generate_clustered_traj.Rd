% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sim.R
\name{generate_clustered_traj}
\alias{generate_clustered_traj}
\title{Generate a clustered trajectory}
\usage{
generate_clustered_traj(
  traj_n = 100,
  traj_random = FALSE,
  traj_step_length = 2,
  n_clusters = 10,
  n_per_cluster = 10,
  x_range = c(14, 34),
  y_range = c(17, -17),
  sd_range = c(0.2, 0.8)
)
}
\arguments{
\item{traj_n}{Integer. Number of base trajectory steps.}

\item{traj_random}{Logical. Whether the base trajectory is random.}

\item{traj_step_length}{Numeric. Step length for the generated trajectory.}

\item{n_clusters}{Integer. Number of cluster centers.}

\item{n_per_cluster}{Integer. Number of points to draw for each cluster.}

\item{x_range}{Numeric length-2. Range to rescale x values of the trajectory.}

\item{y_range}{Numeric length-2. Range to rescale y values of the trajectory.}

\item{sd_range}{Numeric length-2. Range of standard deviations used to build
cluster covariance matrices.}
}
\value{
A \code{ctdf} containing both the trajectory and generated cluster points.
A \code{true_cluster} column marking the ID of each cluster observation.
}
\description{
Creates a continuous-time data frame containing a base trajectory and a set
of spatial clusters generated around selected trajectory points.
Each randmply chosen point becomes the center of a cluster,
and points within clusters receive timestamps sampled between the adjacent
trajectory timestamps.
}
\details{
All traj_ parameters are passed to trajr::TrajGenerate.
For each center, points are drawn from a bivariate normal distribution with a
diagonal covariance matrix whose standard deviation is drawn from
\code{sd_range}. Timestamps for cluster points are uniformly sampled between the
center's previous and next trajectory timestamps, avoiding exact boundaries.
}
\examples{
tr = generate_clustered_traj(
  traj_n = 200,
  n_clusters = 5,
  n_per_cluster = 20
)
tr
}
